# PURPOSE: Tests a full, valid recipe composition.
meta:
  id: rec_code_explainer
  name: "Code Explainer Prompt Recipe"
imports:
  persona:
    block_id: blk_persona
    variant_id: expert_teacher
  output_spec:
    block_id: blk_output
    variant_id: json_detailed
  tasks:
    - block_id: blk_task
      variant_id: explain_code
composition:
  sequence:
    - block_ref: "persona"
    - literal: "\n\n---\n\n"
    - block_ref: "tasks[0]"
    - literal: "\n\n### REQUIRED OUTPUT FORMAT\n"
    - block_ref: "output_spec"
